// ==UserScript==
// @name         showHoleTraining
// @namespace    http://tampermonkey.net/
// @version      0.1
// @description  try to take over the world!
// @author       You
// @match        https://www.onlineliga.de/
// @require      https://greasyfork.org/scripts/5392-waitforkeyelements/code/WaitForKeyElements.js?version=115012
// @grant        none
// ==/UserScript==

(function() {
    'use strict';

    function showHoleTraining(){
        // Entfernt die Overlays (Pfeile zum links und rechts scrollen)
        $(".ol-scroll-overlay-left").remove();
        $(".ol-scroll-overlay-right").remove();

        // Zählt die Anzahl der Divs innerhalb vom Div mit der ID "trainingWeektableContainer" und gibt sie in der Konsole aus (evtl. nötig, wenn mit for-Schleife gearbeitet wird)
        var countDivs = $("#trainingWeektableContainer div").length;
        console.log(countDivs);

        // Damit sollen eigentlich alle Kinderelement auf 70% ihrer Breite reduziert werden, damit diese näher zusammenrücken, klappt aber nicht!!!
        $("div#training-timetable-week_plan").children().attr("style","width:70%;");

        // Holt sich die Länge des zusammengebauten Trainings ab und gibt sie an den übergeordneten Div weiter, damit das ganze Training angezeit werden kann. Zusätzlich wird der Scrollbalken ausgeblendet
        var lengthWeektable = $(".ol-training-weektable-head").width();
        $("div#trainingWeektableContainer.ol-training-overview-table-container.ol-scroll-overlay-content").attr("style","overflow-x:hidden;width:"+lengthWeektable+"px;");
    }

    function init(){
        waitForKeyElements (
            "div#trainingWeektableContainer",
            showHoleTraining
        );
    }

    if (!window.OLToolboxActivated) {
       init();
    } else {
        window.OnlineligaFriendlyInfo = {
            init : init
        };
    }
})();
